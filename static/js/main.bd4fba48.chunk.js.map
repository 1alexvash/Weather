{"version":3,"sources":["components/WeatherIcon.js","components/WeatherDetails.js","App.js","index.js"],"names":["WeatherIcon","_ref","icon","dayOrNight","length","react_default","a","createElement","className","concat","id","WeatherDetails","temperature","city","time","react","App","_useState","useState","dataReady","undefined","Date","getHours","getMinutes","_useState2","Object","slicedToArray","state","setState","getCity","asyncToGenerator","regenerator_default","mark","_callee2","wrap","_context2","prev","next","navigator","geolocation","getCurrentPosition","_ref2","_callee","position","lat","lon","location","_context","coords","latitude","longitude","alert","axios","get","sent","fetchWeatherData","data","results","components","town","t0","console","log","stop","_x","apply","this","arguments","_ref3","_callee3","weather","_context3","status","objectSpread","Math","round","main","temp","_x2","useEffect","components_WeatherIcon","components_WeatherDetails","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd4fba48.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst WeatherIcon = ({ icon }) => {\r\n  const dayOrNight = icon.icon[icon.icon.length - 1];\r\n\r\n  return (\r\n    <div className=\"icon\">\r\n      <i className={`owf owf-${icon.id}-${dayOrNight}`} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeatherIcon;\r\n","import React, { Fragment } from \"react\";\r\n\r\nconst WeatherDetails = ({ temperature, city, time }) => (\r\n  <Fragment>\r\n    <div className=\"temp\">{temperature} Â°C</div>\r\n    <div className=\"city\">{city}</div>\r\n    <div className=\"time\">{time}</div>\r\n  </Fragment>\r\n);\r\n\r\nexport default WeatherDetails;\r\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport axios from \"axios\";\n\nimport WeatherIcon from \"./components/WeatherIcon\";\nimport WeatherDetails from \"./components/WeatherDetails\";\n\nimport \"./scss/main.css\";\n\nconst App = () => {\n  const [state, setState] = useState({\n    dataReady: false,\n    icon: undefined,\n    temperature: undefined,\n    city: undefined,\n    time: new Date().getHours() + \":\" + new Date().getMinutes()\n  });\n\n  const getCity = async () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(async position => {\n        const lat = position.coords.latitude;\n        const lon = position.coords.longitude;\n        alert(\"getting current position\", lat, lon);\n\n        try {\n          const location = await axios.get(\n            `https://api.opencagedata.com/geocode/v1/json?q=${lat}%2C+${lon}&key=83cdb08ee1ff42b388fca37dd29a98a9&pretty=1`\n          );\n          fetchWeatherData(location.data.results[0].components.town);\n        } catch (err) {\n          console.log(err);\n        }\n      });\n    }\n  };\n\n  const fetchWeatherData = async city => {\n    const appId = \"4a7bba8e35b7bfadb8a039bd6b248e38\";\n\n    try {\n      const weather = await axios.get(\n        `https://api.openweathermap.org/data/2.5/weather?q=${city}&APPID=${appId}&units=metric`\n      );\n      if (weather.status === 200) {\n        setState({\n          ...state,\n          dataReady: true,\n          icon: weather.data.weather[0],\n          city,\n          temperature: Math.round(weather.data.main.temp)\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getCity();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className={`App time-${new Date().getHours()}`}>\n      <div className=\"content\">\n        {state.dataReady ? (\n          <Fragment>\n            <WeatherIcon icon={state.icon} time={state.time} />\n            <WeatherDetails\n              temperature={state.temperature}\n              city={state.city}\n              time={state.time}\n            />\n          </Fragment>\n        ) : (\n          \"Loading...\"\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}