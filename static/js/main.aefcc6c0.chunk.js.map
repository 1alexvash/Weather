{"version":3,"sources":["components/Spinner.js","components/WeatherIcon.js","components/WeatherDetails.js","App.js","index.js"],"names":["Spinner","react_default","a","createElement","className","WeatherIcon","_ref","icon","dayOrNight","length","concat","id","WeatherDetails","temperature","city","time","react","App","_useState","useState","dataReady","undefined","Date","getHours","getMinutes","status","components_Spinner","_useState2","Object","slicedToArray","state","setState","getCity","asyncToGenerator","regenerator_default","mark","_callee2","wrap","_context2","prev","next","navigator","geolocation","getCurrentPosition","_ref2","_callee","position","lat","lon","location","_context","coords","latitude","longitude","objectSpread","axios","get","sent","fetchWeatherData","data","results","components","town","t0","console","log","stop","_x","apply","this","arguments","err","_ref3","_callee3","weather","_context3","Math","round","main","temp","_x2","useEffect","components_WeatherIcon","components_WeatherDetails","ReactDOM","render","src_App","document","getElementById"],"mappings":"oPAmBeA,EAjBC,kBACdC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,cCHWE,EAVK,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACfC,EAAaD,EAAKA,KAAKA,EAAKA,KAAKE,OAAS,GAEhD,OACER,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAS,WAAAM,OAAaH,EAAKI,GAAlB,KAAAD,OAAwBF,OCG3BI,EARQ,SAAAN,GAAA,IAAGO,EAAHP,EAAGO,YAAaC,EAAhBR,EAAgBQ,KAAMC,EAAtBT,EAAsBS,KAAtB,OACrBd,EAAAC,EAAAC,cAACa,EAAA,SAAD,KACEf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQS,EAAvB,UACAZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQU,GACvBb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQW,KC2GZE,SAxGH,WAAM,IAAAC,EACUC,mBAAS,CACjCC,WAAW,EACXb,UAAMc,EACNR,iBAAaQ,EACbP,UAAMO,EACNN,KAAI,GAAAL,QAAK,IAAIY,MAAOC,WAAhB,KAAAb,QACF,IAAIY,MAAOE,cAAgB,IACvB,IAAIF,MAAOE,aACX,KAAM,IAAIF,MAAOE,cAEvBC,OAAQxB,EAAAC,EAAAC,cAACuB,EAAD,QAXMC,EAAAC,OAAAC,EAAA,EAAAD,CAAAV,EAAA,GACTY,EADSH,EAAA,GACFI,EADEJ,EAAA,GAcVK,EAAO,eAAA1B,EAAAsB,OAAAK,EAAA,EAAAL,CAAAM,EAAAhC,EAAAiC,KAAG,SAAAC,IAAA,OAAAF,EAAAhC,EAAAmC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACVC,UAAUC,aACZD,UAAUC,YAAYC,mBAAtB,eAAAC,EAAAhB,OAAAK,EAAA,EAAAL,CAAAM,EAAAhC,EAAAiC,KACE,SAAAU,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAA,OAAAf,EAAAhC,EAAAmC,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cACQO,EAAMD,EAASK,OAAOC,SACtBJ,EAAMF,EAASK,OAAOE,eAEXhC,IAAbyB,GACFf,EAASH,OAAA0B,EAAA,EAAA1B,CAAA,GACJE,EADG,CAENL,OAAQ,oCAPdyB,EAAAX,KAAA,EAAAW,EAAAV,KAAA,EAY2Be,IAAMC,IAAN,kDAAA9C,OAC6BqC,EAD7B,QAAArC,OACuCsC,EADvC,mDAZ3B,OAYUC,EAZVC,EAAAO,KAeIC,EAAiBT,EAASU,KAAKC,QAAQ,GAAGC,WAAWC,MAfzDZ,EAAAV,KAAA,iBAAAU,EAAAX,KAAA,GAAAW,EAAAa,GAAAb,EAAA,SAiBInB,EAASH,OAAA0B,EAAA,EAAA1B,CAAA,GACJE,EADG,CAENL,OAAQ,4BAEVuC,QAAQC,IAARf,EAAAa,IArBJ,yBAAAb,EAAAgB,SAAArB,EAAA,kBADF,gBAAAsB,GAAA,OAAAvB,EAAAwB,MAAAC,KAAAC,YAAA,GAyBE,SAAAC,GACExC,EAASH,OAAA0B,EAAA,EAAA1B,CAAA,GACJE,EADG,CAENL,OAAQ,uCAEVuC,QAAQC,IAAIM,KAhCJ,wBAAAjC,EAAA4B,SAAA9B,MAAH,yBAAA9B,EAAA8D,MAAAC,KAAAC,YAAA,GAsCPZ,EAAgB,eAAAc,EAAA5C,OAAAK,EAAA,EAAAL,CAAAM,EAAAhC,EAAAiC,KAAG,SAAAsC,EAAM3D,GAAN,IAAA4D,EAAA,OAAAxC,EAAAhC,EAAAmC,KAAA,SAAAsC,GAAA,cAAAA,EAAApC,KAAAoC,EAAAnC,MAAA,cAAAmC,EAAApC,KAAA,EAAAoC,EAAAnC,KAAA,EAICe,IAAMC,IAAN,qDAAA9C,OACiCI,EADjC,WAAAJ,OAHV,mCAGU,kBAJD,OAOE,OAHjBgE,EAJeC,EAAAlB,MAOThC,QACVM,EAASH,OAAA0B,EAAA,EAAA1B,CAAA,GACJE,EADG,CAENV,WAAW,EACXb,KAAMmE,EAAQf,KAAKe,QAAQ,GAC3B5D,OACAD,YAAa+D,KAAKC,MAAMH,EAAQf,KAAKmB,KAAKC,SAbzBJ,EAAAnC,KAAA,gBAAAmC,EAAApC,KAAA,EAAAoC,EAAAZ,GAAAY,EAAA,SAiBrB5C,EAASH,OAAA0B,EAAA,EAAA1B,CAAA,GACJE,EADG,CAENL,OAAQ,kCAEVuC,QAAQC,IAARU,EAAAZ,IArBqB,yBAAAY,EAAAT,SAAAO,EAAA,iBAAH,gBAAAO,GAAA,OAAAR,EAAAJ,MAAAC,KAAAC,YAAA,GAyBtBW,oBAAU,WACRjD,KAEC,IAEY/B,EAAAC,EAAAC,cAACuB,EAAD,MAEf,OACEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAS,YAAAM,QAAc,IAAIY,MAAOC,aACrCtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACZ0B,EAAMV,UACLnB,EAAAC,EAAAC,cAACa,EAAA,SAAD,KACEf,EAAAC,EAAAC,cAAC+E,EAAD,CAAa3E,KAAMuB,EAAMvB,KAAMQ,KAAMe,EAAMf,OAC3Cd,EAAAC,EAAAC,cAACgF,EAAD,CACEtE,YAAaiB,EAAMjB,YACnBC,KAAMgB,EAAMhB,KACZC,KAAMe,EAAMf,QAIhBe,EAAML,WCtGhB2D,IAASC,OAAOpF,EAAAC,EAAAC,cAACmF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.aefcc6c0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Spinner = () => (\r\n  <div className=\"lds-spinner\">\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nconst WeatherIcon = ({ icon }) => {\r\n  const dayOrNight = icon.icon[icon.icon.length - 1];\r\n\r\n  return (\r\n    <div className=\"icon\">\r\n      <i className={`owf owf-${icon.id}-${dayOrNight}`} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeatherIcon;\r\n","import React, { Fragment } from \"react\";\r\n\r\nconst WeatherDetails = ({ temperature, city, time }) => (\r\n  <Fragment>\r\n    <div className=\"temp\">{temperature} Â°C</div>\r\n    <div className=\"city\">{city}</div>\r\n    <div className=\"time\">{time}</div>\r\n  </Fragment>\r\n);\r\n\r\nexport default WeatherDetails;\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Spinner from \"./components/Spinner\";\r\nimport WeatherIcon from \"./components/WeatherIcon\";\r\nimport WeatherDetails from \"./components/WeatherDetails\";\r\n\r\nimport \"./scss/main.css\";\r\n\r\nconst App = () => {\r\n  const [state, setState] = useState({\r\n    dataReady: false,\r\n    icon: undefined,\r\n    temperature: undefined,\r\n    city: undefined,\r\n    time: `${new Date().getHours()}:${\r\n      new Date().getMinutes() >= 10\r\n        ? new Date().getMinutes()\r\n        : \"0\" + new Date().getMinutes()\r\n    }`,\r\n    status: <Spinner />\r\n  });\r\n\r\n  const getCity = async () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        async position => {\r\n          const lat = position.coords.latitude;\r\n          const lon = position.coords.longitude;\r\n\r\n          if (position === undefined) {\r\n            setState({\r\n              ...state,\r\n              status: \"Location data is not available\"\r\n            });\r\n          }\r\n\r\n          try {\r\n            const location = await axios.get(\r\n              `https://api.opencagedata.com/geocode/v1/json?q=${lat}%2C+${lon}&key=83cdb08ee1ff42b388fca37dd29a98a9&pretty=1`\r\n            );\r\n            fetchWeatherData(location.data.results[0].components.town);\r\n          } catch (err) {\r\n            setState({\r\n              ...state,\r\n              status: \"Can't get location API\"\r\n            });\r\n            console.log(err);\r\n          }\r\n        },\r\n        err => {\r\n          setState({\r\n            ...state,\r\n            status: \"Geolocation data is not available\"\r\n          });\r\n          console.log(err);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const fetchWeatherData = async city => {\r\n    const appId = \"4a7bba8e35b7bfadb8a039bd6b248e38\";\r\n\r\n    try {\r\n      const weather = await axios.get(\r\n        `https://api.openweathermap.org/data/2.5/weather?q=${city}&APPID=${appId}&units=metric`\r\n      );\r\n      if (weather.status === 200) {\r\n        setState({\r\n          ...state,\r\n          dataReady: true,\r\n          icon: weather.data.weather[0],\r\n          city,\r\n          temperature: Math.round(weather.data.main.temp)\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setState({\r\n        ...state,\r\n        status: \"Weather API is not available\"\r\n      });\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCity();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const status = <Spinner />;\r\n\r\n  return (\r\n    <div className={`App time-${new Date().getHours()}`}>\r\n      <div className=\"content\">\r\n        {state.dataReady ? (\r\n          <Fragment>\r\n            <WeatherIcon icon={state.icon} time={state.time} />\r\n            <WeatherDetails\r\n              temperature={state.temperature}\r\n              city={state.city}\r\n              time={state.time}\r\n            />\r\n          </Fragment>\r\n        ) : (\r\n          state.status\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}